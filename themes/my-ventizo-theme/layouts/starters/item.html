<div class="card rounded-0 p-0">
  {{ $image := .Resources.GetMatch (printf "**%s" (index .Params.images 0)) | default "assets/images/default.png" -}}

  {{ if $image -}}
    {{ partial "picture"  (dict
    "ctx" .
    "src" $image
    "alt" .Title
    "class" "card-img-top img-fluid blur-up w-100 h-auto rounded-0"
    )}}
  {{ end -}}

  {{ $repoURL := .Params.repoURL -}}
  {{ $repoURLParsed := urls.Parse $repoURL -}}
  {{ $repo := $repoURLParsed.Path -}}

  {{ $gitPodURL := printf "%s%s" "https://gitpod.io/#" $repoURL }}
  {{ $sandBoxURL := printf "%s%s" "https://codesandbox.io/p/sandbox/github" $repo }}
  {{ $stackBlitzURL := printf "%s%s" "https://stackblitz.com/github" $repo }}

  <div class="card-body p-4">
    <h3 class="card-title fs-3 text-white">{{.Title}}</h3>
    <p class="card-text">
      <a class="link-repo" href="{{ $repoURL }}">
        <svg fill="none" viewBox="0 0 32 33" width="20" height="21" astro-icon="github"><path fill="#fff" d="M16 2.5c-7.735 0-14 6.265-14 14 0 6.195 4.008 11.427 9.572 13.282.7.123.963-.297.963-.665 0-.332-.018-1.434-.018-2.607-3.517.647-4.427-.858-4.707-1.645-.157-.402-.84-1.645-1.435-1.977-.49-.263-1.19-.91-.018-.928 1.103-.018 1.89 1.015 2.153 1.435 1.26 2.117 3.273 1.523 4.078 1.155.122-.91.49-1.523.892-1.873-3.115-.35-6.37-1.557-6.37-6.912 0-1.523.542-2.783 1.435-3.763-.14-.35-.63-1.785.14-3.71 0 0 1.172-.367 3.85 1.435a12.99 12.99 0 0 1 3.5-.472c1.19 0 2.38.157 3.5.472 2.677-1.82 3.85-1.434 3.85-1.434.77 1.925.28 3.36.14 3.71.893.98 1.435 2.222 1.435 3.762 0 5.372-3.273 6.563-6.387 6.912.507.438.944 1.278.944 2.59 0 1.873-.017 3.378-.017 3.85 0 .368.262.805.962.665A14.022 14.022 0 0 0 30 16.5c0-7.735-6.265-14-14-14Z"></path></svg>View repo on gitHub
      </a>
    </p>
    <hr>
    <div class="btn-group">
      <a class="btn btn-primary rounded-start-pill ps-4" href="{{ $gitPodURL }}" role="button">
        <svg fill="none" viewBox="0 0 17 17" width="20" height="20" astro-icon="gitpod"><path fill="currentcolor" fill-rule="evenodd" d="M9.133 1.75a1.49 1.49 0 0 1-.55 2.031L4.156 6.318a.377.377 0 0 0-.188.327v3.983a.377.377 0 0 0 .188.327l3.502 2.006a.376.376 0 0 0 .374 0l3.501-2.006a.377.377 0 0 0 .19-.327V8.151l-3.15 1.782c-.713.405-1.619.15-2.021-.565a1.49 1.49 0 0 1 .563-2.029l4.506-2.55c1.372-.776 3.07.218 3.07 1.8v4.341a2.835 2.835 0 0 1-1.423 2.46l-4.022 2.305a2.816 2.816 0 0 1-2.802 0L2.423 13.39A2.835 2.835 0 0 1 1 10.93V6.342a2.835 2.835 0 0 1 1.422-2.46L7.11 1.196a1.481 1.481 0 0 1 2.025.555V1.75Z" clip-rule="evenodd"></path></svg>Open in Gitpod
      </a>
      <button type="button" class="btn btn-primary rounded-end-pill pe-3 dropdown-toggle dropdown-toggle-split" data-bs-toggle="dropdown" aria-expanded="false">
        <span class="visually-hidden">Toggle Dropdown</span>
      </button>
      <ul class="dropdown-menu" data-bs-theme="light">
        <li>
          <a class="dropdown-item" href="{{ $sandBoxURL }}">
            <svg fill="none" viewBox="0 0 17 17" width="20" height="20" astro-icon="codesandbox"><path fill="currentcolor" fill-rule="evenodd" d="M2 3h12v12.007H2V3Zm10.773 1.228v9.55H3.227v-9.55h9.546Z" clip-rule="evenodd"></path></svg>Open in CodeSandbox
          </a>
        </li>
        <li>
          <a class="dropdown-item disabled" href="{{ $stackBlitzURL }}">
            <svg fill="none" viewBox="0 0 16 16" width="20" height="20" astro-icon="stackblitz"><path fill="currentcolor" d="M3 8.823h4.304L4.772 15 13 6.177H8.696L11.227 0 3 8.823Z"></path></svg>Open in StackBlitz
          </a>
        </li>
      </ul>
    </div>
  </div>
</div>
